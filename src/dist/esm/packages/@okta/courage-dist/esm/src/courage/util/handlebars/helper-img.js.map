{"version":3,"file":"helper-img.js","sources":["../../../../../../../../../../packages/@okta/courage-dist/esm/src/courage/util/handlebars/helper-img.js"],"sourcesContent":["import _Handlebars2 from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nexport { default } from '../../../../lib/handlebars/dist/cjs/handlebars.runtime.js';\nimport oktaUnderscore from '../underscore-wrapper.js';\n\n/* eslint @okta/okta-ui/no-specific-modules: 0 */\nconst CACHE_BUST_URL_PREFIX = '/assets';\n\nfunction prependCachebustPrefix(path) {\n  if (path.indexOf(CACHE_BUST_URL_PREFIX) === 0) {\n    return path;\n  }\n\n  return CACHE_BUST_URL_PREFIX + path;\n}\n\n_Handlebars2.registerHelper('img', function img(options) {\n  const cdn = typeof okta !== 'undefined' && okta.cdnUrlHostname || '';\n\n  const hash = oktaUnderscore.pick(options.hash, ['src', 'alt', 'width', 'height', 'class', 'title']);\n\n  hash.src = `${cdn}${prependCachebustPrefix(hash.src)}`;\n\n  const attrs = oktaUnderscore.map(hash, (value, attr) => {\n    const encodedValue = attr === 'src' ? encodeURI(value) : _Handlebars2.Utils.escapeExpression(value);\n    return `${attr}=\"${encodedValue}\"`;\n  });\n\n  return new _Handlebars2.SafeString(`<img ${attrs.join(' ')}/>`);\n});\n"],"names":["CACHE_BUST_URL_PREFIX","prependCachebustPrefix","path","indexOf","_Handlebars2","registerHelper","img","options","cdn","okta","cdnUrlHostname","hash","oktaUnderscore","pick","src","attrs","map","value","attr","encodedValue","encodeURI","Utils","escapeExpression","SafeString","join"],"mappings":";;;;AAIA;AACA,MAAMA,qBAAqB,GAAG,SAAS,CAAA;AAEvC,SAASC,sBAAsB,CAACC,IAAI,EAAE;EACpC,IAAIA,IAAI,CAACC,OAAO,CAACH,qBAAqB,CAAC,KAAK,CAAC,EAAE;AAC7C,IAAA,OAAOE,IAAI,CAAA;AACb,GAAA;EAEA,OAAOF,qBAAqB,GAAGE,IAAI,CAAA;AACrC,CAAA;AAEAE,YAAY,CAACC,cAAc,CAAC,KAAK,EAAE,SAASC,GAAG,CAACC,OAAO,EAAE;EACvD,MAAMC,GAAG,GAAG,OAAOC,IAAI,KAAK,WAAW,IAAIA,IAAI,CAACC,cAAc,IAAI,EAAE,CAAA;EAEpE,MAAMC,IAAI,GAAGC,cAAc,CAACC,IAAI,CAACN,OAAO,CAACI,IAAI,EAAE,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,OAAO,CAAC,CAAC,CAAA;AAEnGA,EAAAA,IAAI,CAACG,GAAG,GAAI,CAAA,EAAEN,GAAI,CAAA,EAAEP,sBAAsB,CAACU,IAAI,CAACG,GAAG,CAAE,CAAC,CAAA,CAAA;AAEtD,EAAA,MAAMC,KAAK,GAAGH,cAAc,CAACI,GAAG,CAACL,IAAI,EAAE,CAACM,KAAK,EAAEC,IAAI,KAAK;AACtD,IAAA,MAAMC,YAAY,GAAGD,IAAI,KAAK,KAAK,GAAGE,SAAS,CAACH,KAAK,CAAC,GAAGb,YAAY,CAACiB,KAAK,CAACC,gBAAgB,CAACL,KAAK,CAAC,CAAA;AACnG,IAAA,OAAQ,CAAEC,EAAAA,IAAK,CAAIC,EAAAA,EAAAA,YAAa,CAAE,CAAA,CAAA,CAAA;AACpC,GAAC,CAAC,CAAA;AAEF,EAAA,OAAO,IAAIf,YAAY,CAACmB,UAAU,CAAE,CAAA,KAAA,EAAOR,KAAK,CAACS,IAAI,CAAC,GAAG,CAAE,IAAG,CAAC,CAAA;AACjE,CAAC,CAAC"}